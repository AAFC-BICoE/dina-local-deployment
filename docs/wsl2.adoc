= WSL2

WSL2 (Windows Subsystem for Linux 2) is a compatibility layer that enables you to run a full Linux kernel natively on Windows 10/11.
On Windows, WSL2 should be used in replacement of the Ubuntu Virtual Machine mentioned above.

== Setup

To stop WSL from overwriting `/etc/hosts` every time it starts, disable automatic host generation in WSL to add the custom DINA entries.

Edit the `/etc/wsl.conf` to have at the bottom of the file:

[source, bash]
----
[network]
generateHosts = false
----

In WSL the content of `/etc/hosts` should be changed to:

[source, bash]
----
127.0.0.1 dina.local
127.0.0.1 api.dina.local
127.0.0.1 keycloak.dina.local
----

== VPN
On VPN the WSL2 networking can be affected.

You can change WSL Network mode:

. shutdown wsl if running (wsl --shutdown)
. Open WSL Setting (through windows search bar) -> Networking -> Set "Networking mode" to "Mirrored"
. Restart host machine
